## Step 4: Change UserA's state to READY & NOT READY

When an user is ready to take customer calls, they must change their state to READY. Once they are in READY state, calls will be routed to them (if available) and their state will change according to the agent state transition machine. When the user no longer want to take customer calls because it is their break or they are done working for the day, they must put themselves back into NOT_READY state. In order to sign out of Finesse, the user must be in NOT_READY state (see the agent state transition machine).

> Finesse API for changing the user state
>  ```http
http://<Finesse_FQDN>:8082/finesse/api/User/{id}
```
> For more details about /User, see <a href="https://developer.cisco.com/media/finesseDevGuide2/CFIN_RF_C1D2CCD7_00_change-agent-state.html" target="_blank">User - Change Agent State</a>

Changing the user’s state uses the same ``/User`` REST resource and HTTP **PUT** verb as the user Sign In API, but with different XML data in the request Body:
```xml
<User>
     <state>[New State]</state>
</User>
```

1. In **Postman**, open a new tab or click the Reset button to clear any previously entered data.
2. Construct a REST **PUT** request for the ``/User`` resource.
 * In the field marked *Enter request URL here*, put the URL for the Finesse API ``/User`` resource:
  ``http://{{Finesse_FQDN}}:8082/finesse/api/User/{{UserA_username}}``
 * From the request method dropdown menu, select **PUT**.
 * Select the **Authorization** tab, and select **Basic Auth**. A form containing username and password fields appear.
 * For the Basic Auth **username** value, enter UserA's username: ``{{UserA_username}}``.
 * For the Basic Auth **password** value, enter UserA's password: ``{{UserA_password}}``.
 * Click the **Update request** button to generate an authorization header.
 * Select the **Body** tab, and select the **raw** radio button. A dropdown menu containing the type of raw data appears.
 * Select **XML (application/xml)** from the dropdown menu.
 * In the large body text box, put the following XML user data:
 ```xml
<User>
        <state>READY</state>
</User>
```

    ![UserA PUT Request Change To READY](/posts/files/finesse-basic-user-rest-apis/assets/images/user-a-PUT-request-change-READY.jpg)
2. Click the **Send** button to launch the request.
3. If the request is successful, you should see a HTTP status of 202 Accepted and an empty Body textbox.

 ![UserA PUT Response Change To READY](/posts/files/finesse-basic-user-rest-apis/assets/images/user-a-PUT-response-change-READY.jpg)
4. To confirm that the user changed its state to READY successfully, use the GET user API from the **Step 2: Get the user information section** and verify that the <state> tag value is READY. If you kept the tab from Step 2 opened, switch back to that tab and click the **Send** button.

 ![UserA GET Response After Change To READY](/posts/files/finesse-basic-user-rest-apis/assets/images/user-a-GET-response-after-change-READY.jpg)
5. Repeat steps 1-4 in this section to change the user’s state to NOT_READY by using the following XML user data:
 ```xml
<User>
        <state>READY</state>
</User>
```
The reason for changing the agent state back to NOT_READY is because a user cannot sign out from READY state, which you will be doing in the next step.

 ![UserA PUT Request Change To NOT_READY](/posts/files/finesse-basic-user-rest-apis/assets/images/user-a-PUT-request-change-NOT_READY.jpg)
 ![UserA PUT Response Change To NOT_READY](/posts/files/finesse-basic-user-rest-apis/assets/images/user-a-PUT-response-change-NOT_READY.jpg)
 ![UserA GET Response Change To NOT_READY](/posts/files/finesse-basic-user-rest-apis/assets/images/user-a-GET-response-change-NOT_READY.jpg)